<div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200">
  <div class="max-w-2xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-8">
      <div class="mx-auto h-12 w-auto mb-4">
        <span class="text-3xl font-bold">
          <span class="text-blue-600 dark:text-blue-400">Docu</span>Mind
        </span>
      </div>
      <h1 class="text-3xl font-extrabold text-gray-900 dark:text-white">
        Change Password
      </h1>
      <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">
        Update your account password
      </p>
    </div>

    <!-- Main Form Card -->
    <div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700 p-8 transition-colors duration-200">
      <%= form_for(resource, as: resource_name, url: registration_path(resource_name),
                   html: { method: :put, class: "space-y-6" }) do |f| %>
        <%= render "devise/shared/error_messages", resource: resource %>

        <!-- Current Email Display (Read-only) -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email Address</label>
          <div class="px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white">
            <%= resource.email %>
          </div>
          <p class="text-xs text-gray-500 dark:text-gray-400">
            Email address cannot be changed for security reasons
          </p>
        </div>

        <!-- Password Section -->
        <div class="space-y-4">
          <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Change Password</h3>

            <div class="space-y-4">
              <div class="space-y-2">
                <%= f.label :password, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
                <div class="relative">
                  <%= f.password_field :password,
                      autocomplete: "new-password",
                      placeholder: "New password",
                      class: "appearance-none rounded-lg relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 transition-colors duration-200 sm:text-sm" %>
                </div>
                <% if @minimum_password_length %>
                  <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                    <%= @minimum_password_length %> characters minimum
                  </p>
                <% end %>
              </div>

              <div class="space-y-2">
                <%= f.label :password_confirmation, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
                <%= f.password_field :password_confirmation,
                    autocomplete: "new-password",
                    placeholder: "Confirm new password",
                    class: "appearance-none rounded-lg relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 transition-colors duration-200 sm:text-sm" %>
              </div>

              <div class="space-y-2">
                <%= f.label :current_password, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
                <div class="relative">
                  <%= f.password_field :current_password,
                      autocomplete: "current-password",
                      placeholder: "Current password",
                      class: "appearance-none rounded-lg relative block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 transition-colors duration-200 sm:text-sm" %>
                </div>
                <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                  We need your current password to confirm your changes
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-2 pt-6">
          <%= f.submit "Update Password",
              class: "flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 transition-colors duration-200 cursor-pointer",
              data: { disable_with: "Updating..." } %>

          <%= link_to "Cancel", :back,
              class: "flex-1 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium py-3 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-offset-gray-800 transition-colors duration-200 text-center" %>
        </div>
      <% end %>
    </div>

    <!-- Account Deletion Section -->
    <div class="mt-8 bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700 p-6 transition-colors duration-200">
      <div class="flex items-start justify-between">
        <div class="flex-1">
          <h3 class="text-lg font-medium text-red-600 dark:text-red-400">
            Delete Account
          </h3>
          <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">
            Once you delete your account, there is no going back. Please be certain.
          </p>
        </div>
        <div class="ml-4">
          <%= button_to "Delete Account",
              registration_path(resource_name),
              data: {
                confirm: "Are you sure? This action cannot be undone.",
                turbo_confirm: "Are you sure? This action cannot be undone."
              },
              method: :delete,
              class: "bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-offset-gray-800 transition-colors duration-200" %>
        </div>
      </div>
    </div>

    <!-- Back to Profile Edit Link -->
    <div class="text-center mt-4">
      <%= link_to "← Back to Profile Edit", "/profile/edit",
          class: "text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 transition-colors duration-200" %>
    </div>
  </div>
</div>
